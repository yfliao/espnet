<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>espnet2.layers package &mdash; ESPnet 202402 documentation</title><link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
        <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
        <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["$", "$"], ["\\(", "\\)"]], "processEscapes": true, "ignoreClass": "tex2jax_ignore|mathjax_ignore|document", "processClass": "tex2jax_process|mathjax_process|math|output_area"}})</script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="espnet2.hubert package" href="espnet2.hubert.html" />
    <link rel="prev" title="espnet2.schedulers package" href="espnet2.schedulers.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            ESPnet
          </a>
              <div class="version">
                202402
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p><span class="caption-text">Tutorial:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorial.html">Common usages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../parallelization.html">Using job scheduling system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../docker.html">Docker</a></li>
</ul>
<p><span class="caption-text">ESPnet1:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../espnet1_tutorial.html">Usage</a></li>
</ul>
<p><span class="caption-text">ESPnet2:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../espnet2_tutorial.html">ESPnet2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../espnet2_tutorial.html#instruction-for-run-sh">Instruction for run.sh</a></li>
<li class="toctree-l1"><a class="reference internal" href="../espnet2_training_option.html">Change the configuration for training</a></li>
<li class="toctree-l1"><a class="reference internal" href="../espnet2_format_wav_scp.html">Converting audio file formats using format_wav_scp.py</a></li>
<li class="toctree-l1"><a class="reference internal" href="../espnet2_task.html">Task class and data input system for training</a></li>
<li class="toctree-l1"><a class="reference internal" href="../espnet2_distributed.html">Distributed training</a></li>
</ul>
<p><span class="caption-text">Notebook:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../notebook/DataPreparation_CMU_11492_692_Spring2023(Assignment0).html">CMU 11492/11692 Spring 2023: Data preparation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/DataPreparation_CMU_11492_692_Spring2023(Assignment0).html#Data-preparation-in-ESPnet">Data preparation in ESPnet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/SpeechEnhancement_CMU_11492_692_Spring2023(Assignment7).html">CMU 11492/11692 Spring 2023: Speech Enhancement</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/SpeechEnhancement_CMU_11492_692_Spring2023(Assignment7).html#Contents">Contents</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/SpokenLanguageUnderstanding_CMU_11492_692_Spring2023(Assignment6).html">CMU 11492/11692 Spring 2023: Spoken Language Understanding</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/TextToSpeech_CMU_11492_692_Spring2023(Assignment8).html">CMU 11492/11692 Spring 2023: Text to Speech</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/asr_cli.html">Speech Recognition (Recipe)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/asr_library.html">Speech Recognition (Library)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet2_2pass_slu_demo.html">ESPNET 2 pass SLU Demonstration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet2_asr_realtime_demo.html">ESPnet2-ASR realtime demonstration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet2_asr_transfer_learning_demo.html"><strong>Use transfer learning for ASR in ESPnet2</strong></a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet2_asr_transfer_learning_demo.html#Abstract">Abstract</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet2_asr_transfer_learning_demo.html#ESPnet-installation-(about-10-minutes-in-total)">ESPnet installation (about 10 minutes in total)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet2_asr_transfer_learning_demo.html#mini_an4-recipe-as-a-transfer-learning-example">mini_an4 recipe as a transfer learning example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet2_new_task_tutorial_CMU_11751_18781_Fall2022.html">CMU 11751/18781 Fall 2022: ESPnet Tutorial2 (New task)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet2_new_task_tutorial_CMU_11751_18781_Fall2022.html#Install-ESPnet-(Almost-same-procedure-as-your-first-tutorial)">Install ESPnet (Almost same procedure as your first tutorial)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet2_new_task_tutorial_CMU_11751_18781_Fall2022.html#What-we-provide-you-and-what-you-need-to-proceed">What we provide you and what you need to proceed</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet2_recipe_tutorial_CMU_11751_18781_Fall2022.html">CMU 11751/18781 Fall 2022: ESPnet Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet2_recipe_tutorial_CMU_11751_18781_Fall2022.html#Install-ESPnet">Install ESPnet</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet2_recipe_tutorial_CMU_11751_18781_Fall2022.html#Run-an-existing-recipe">Run an existing recipe</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet2_recipe_tutorial_CMU_11751_18781_Fall2022.html#Make-a-new-recipe">Make a new recipe</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet2_recipe_tutorial_CMU_11751_18781_Fall2022.html#Additional-resources">Additional resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet2_streaming_asr_demo.html">ESPnet2 real streaming Transformer demonstration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet2_tts_realtime_demo.html">ESPnet2-TTS realtime demonstration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet2_tutorial_2021_CMU_11751_18781.html">CMU 11751/18781 2021: ESPnet Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet2_tutorial_2021_CMU_11751_18781.html#Run-an-inference-example">Run an inference example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet2_tutorial_2021_CMU_11751_18781.html#Full-installation">Full installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet2_tutorial_2021_CMU_11751_18781.html#Run-a-recipe-example">Run a recipe example</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet_se_demonstration_for_waspaa_2021.html">ESPnet Speech Enhancement Demonstration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet_se_demonstration_for_waspaa_2021.html#Contents">Contents</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet_se_demonstration_for_waspaa_2021.html#(1)-Tutorials-on-the-Basic-Usage">(1) Tutorials on the Basic Usage</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/espnet_se_demonstration_for_waspaa_2021.html#(2)-Tutorials-on-Contributing-to-ESPNet-SE-Project">(2) Tutorials on Contributing to ESPNet-SE Project</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/onnx_conversion_demo.html">espnet_onnx demonstration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/onnx_conversion_demo.html#Install-Dependency">Install Dependency</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/onnx_conversion_demo.html#Export-your-model">Export your model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/onnx_conversion_demo.html#Inference-with-onnx">Inference with onnx</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/onnx_conversion_demo.html#Using-streaming-model">Using streaming model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/pretrained.html">Pretrained Model</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/se_demo.html">ESPnet Speech Enhancement Demonstration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/st_demo.html">ESPnet Speech Translation Demonstration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/tts_cli.html">Text-to-Speech (Recipe)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../notebook/tts_realtime_demo.html">ESPnet real time E2E-TTS demonstration</a></li>
</ul>
<p><span class="caption-text">Package Reference:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="espnet.bin.html">espnet.bin package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet.scheduler.html">espnet.scheduler package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet.transform.html">espnet.transform package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet.utils.html">espnet.utils package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet.optimizer.html">espnet.optimizer package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet.tts.html">espnet.tts package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet.asr.html">espnet.asr package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet.lm.html">espnet.lm package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet.mt.html">espnet.mt package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet.vc.html">espnet.vc package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet.nets.html">espnet.nets package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet.st.html">espnet.st package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet.distributed.html">espnet.distributed package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.bin.html">espnet2.bin package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.schedulers.html">espnet2.schedulers package</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">espnet2.layers package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#espnet2-layers-stft-1">espnet2.layers.stft</a></li>
<li class="toctree-l2"><a class="reference internal" href="#espnet2-layers-abs-normalize-1">espnet2.layers.abs_normalize</a></li>
<li class="toctree-l2"><a class="reference internal" href="#espnet2-layers-create-adapter-1">espnet2.layers.create_adapter</a></li>
<li class="toctree-l2"><a class="reference internal" href="#espnet2-layers-create-adapter-fn-1">espnet2.layers.create_adapter_fn</a></li>
<li class="toctree-l2"><a class="reference internal" href="#espnet2-layers-init-1">espnet2.layers.__init__</a></li>
<li class="toctree-l2"><a class="reference internal" href="#espnet2-layers-utterance-mvn-1">espnet2.layers.utterance_mvn</a></li>
<li class="toctree-l2"><a class="reference internal" href="#espnet2-layers-log-mel-1">espnet2.layers.log_mel</a></li>
<li class="toctree-l2"><a class="reference internal" href="#espnet2-layers-sinc-conv-1">espnet2.layers.sinc_conv</a></li>
<li class="toctree-l2"><a class="reference internal" href="#espnet2-layers-mask-along-axis-1">espnet2.layers.mask_along_axis</a></li>
<li class="toctree-l2"><a class="reference internal" href="#espnet2-layers-create-adapter-utils-1">espnet2.layers.create_adapter_utils</a></li>
<li class="toctree-l2"><a class="reference internal" href="#espnet2-layers-label-aggregation-1">espnet2.layers.label_aggregation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#espnet2-layers-time-warp-1">espnet2.layers.time_warp</a></li>
<li class="toctree-l2"><a class="reference internal" href="#espnet2-layers-global-mvn-1">espnet2.layers.global_mvn</a></li>
<li class="toctree-l2"><a class="reference internal" href="#espnet2-layers-inversible-interface-1">espnet2.layers.inversible_interface</a></li>
<li class="toctree-l2"><a class="reference internal" href="#espnet2-layers-augmentation-1">espnet2.layers.augmentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#espnet2-layers-houlsby-adapter-layer-1">espnet2.layers.houlsby_adapter_layer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.hubert.html">espnet2.hubert package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.asvspoof.html">espnet2.asvspoof package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.optimizers.html">espnet2.optimizers package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.fst.html">espnet2.fst package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.asr_transducer.html">espnet2.asr_transducer package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.iterators.html">espnet2.iterators package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.text.html">espnet2.text package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.utils.html">espnet2.utils package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.train.html">espnet2.train package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.diar.html">espnet2.diar package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.gan_tts.html">espnet2.gan_tts package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.torch_utils.html">espnet2.torch_utils package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.spk.html">espnet2.spk package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.s2st.html">espnet2.s2st package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.tts.html">espnet2.tts package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.asr.html">espnet2.asr package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.enh.html">espnet2.enh package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.lm.html">espnet2.lm package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.gan_svs.html">espnet2.gan_svs package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.mt.html">espnet2.mt package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.fileio.html">espnet2.fileio package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.samplers.html">espnet2.samplers package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.svs.html">espnet2.svs package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.uasr.html">espnet2.uasr package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.tasks.html">espnet2.tasks package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.s2t.html">espnet2.s2t package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.main_funcs.html">espnet2.main_funcs package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.st.html">espnet2.st package</a></li>
<li class="toctree-l1"><a class="reference internal" href="espnet2.slu.html">espnet2.slu package</a></li>
</ul>
<p><span class="caption-text">Tool Reference:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../apis/espnet_bin.html">core tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apis/espnet2_bin.html">core tools (espnet2)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apis/utils_py.html">python utility tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../apis/utils_sh.html">bash utility tools</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ESPnet</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">espnet2.layers package</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/_gen/espnet2.layers.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="espnet2-layers-package">
<h1>espnet2.layers package<a class="headerlink" href="#espnet2-layers-package" title="Permalink to this headline">¶</a></h1>
<section id="espnet2-layers-stft-1">
<span id="espnet2-layers-stft"></span><h2>espnet2.layers.stft<a class="headerlink" href="#espnet2-layers-stft-1" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-espnet2.layers.stft"></span><dl class="class">
<dt id="espnet2.layers.stft.Stft">
<em class="property">class </em><code class="sig-prename descclassname">espnet2.layers.stft.</code><code class="sig-name descname">Stft</code><span class="sig-paren">(</span><em class="sig-param">n_fft: int = 512</em>, <em class="sig-param">win_length: int = None</em>, <em class="sig-param">hop_length: int = 128</em>, <em class="sig-param">window: Optional[str] = 'hann'</em>, <em class="sig-param">center: bool = True</em>, <em class="sig-param">normalized: bool = False</em>, <em class="sig-param">onesided: bool = True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/stft.html#Stft"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.stft.Stft" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">torch.nn.modules.module.Module</span></code>, <a class="reference internal" href="#espnet2.layers.inversible_interface.InversibleInterface" title="espnet2.layers.inversible_interface.InversibleInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">espnet2.layers.inversible_interface.InversibleInterface</span></code></a></p>
<dl class="method">
<dt id="espnet2.layers.stft.Stft.extra_repr">
<code class="sig-name descname">extra_repr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/stft.html#Stft.extra_repr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.stft.Stft.extra_repr" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the extra representation of the module</p>
<p>To print customized extra information, you should re-implement
this method in your own modules. Both single-line and multi-line
strings are acceptable.</p>
</dd></dl>

<dl class="method">
<dt id="espnet2.layers.stft.Stft.forward">
<code class="sig-name descname">forward</code><span class="sig-paren">(</span><em class="sig-param">input: torch.Tensor</em>, <em class="sig-param">ilens: torch.Tensor = None</em><span class="sig-paren">)</span> &#x2192; Tuple[torch.Tensor, Optional[torch.Tensor]]<a class="reference internal" href="../_modules/espnet2/layers/stft.html#Stft.forward"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.stft.Stft.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>STFT forward function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input</strong> – (Batch, Nsamples) or (Batch, Nsample, Channels)</p></li>
<li><p><strong>ilens</strong> – (Batch)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(Batch, Frames, Freq, 2) or (Batch, Frames, Channels, Freq, 2)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>output</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="espnet2.layers.stft.Stft.inverse">
<code class="sig-name descname">inverse</code><span class="sig-paren">(</span><em class="sig-param">input: Union[torch.Tensor, torch_complex.tensor.ComplexTensor], ilens: torch.Tensor = None</em><span class="sig-paren">)</span> &#x2192; Tuple[torch.Tensor, Optional[torch.Tensor]]<a class="reference internal" href="../_modules/espnet2/layers/stft.html#Stft.inverse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.stft.Stft.inverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Inverse STFT.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input</strong> – Tensor(batch, T, F, 2) or ComplexTensor(batch, T, F)</p></li>
<li><p><strong>ilens</strong> – (batch,)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(batch, samples)
ilens: (batch,)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>wavs</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="espnet2-layers-abs-normalize-1">
<span id="espnet2-layers-abs-normalize"></span><h2>espnet2.layers.abs_normalize<a class="headerlink" href="#espnet2-layers-abs-normalize-1" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-espnet2.layers.abs_normalize"></span><dl class="class">
<dt id="espnet2.layers.abs_normalize.AbsNormalize">
<em class="property">class </em><code class="sig-prename descclassname">espnet2.layers.abs_normalize.</code><code class="sig-name descname">AbsNormalize</code><span class="sig-paren">(</span><em class="sig-param">*args</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/abs_normalize.html#AbsNormalize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.abs_normalize.AbsNormalize" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">torch.nn.modules.module.Module</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<p>Initializes internal Module state, shared by both nn.Module and ScriptModule.</p>
<dl class="method">
<dt id="espnet2.layers.abs_normalize.AbsNormalize.forward">
<em class="property">abstract </em><code class="sig-name descname">forward</code><span class="sig-paren">(</span><em class="sig-param">input: torch.Tensor</em>, <em class="sig-param">input_lengths: torch.Tensor = None</em><span class="sig-paren">)</span> &#x2192; Tuple[torch.Tensor, torch.Tensor]<a class="reference internal" href="../_modules/espnet2/layers/abs_normalize.html#AbsNormalize.forward"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.abs_normalize.AbsNormalize.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the computation performed at every call.</p>
<p>Should be overridden by all subclasses.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Although the recipe for forward pass needs to be defined within
this function, one should call the <code class="xref py py-class docutils literal notranslate"><span class="pre">Module</span></code> instance afterwards
instead of this since the former takes care of running the
registered hooks while the latter silently ignores them.</p>
</aside>
</dd></dl>

</dd></dl>

</section>
<section id="espnet2-layers-create-adapter-1">
<span id="espnet2-layers-create-adapter"></span><h2>espnet2.layers.create_adapter<a class="headerlink" href="#espnet2-layers-create-adapter-1" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-espnet2.layers.create_adapter"></span><p>Definition of the low-rank adaptation (LoRA) for large models.</p>
<p class="rubric">References</p>
<ol class="arabic simple">
<li><p>LoRA: Low-Rank Adaptation of Large Language Models
(<a class="reference external" href="https://arxiv.org/pdf/2106.09685.pdf">https://arxiv.org/pdf/2106.09685.pdf</a>)</p></li>
<li><p><a class="reference external" href="https://github.com/microsoft/LoRA.git">https://github.com/microsoft/LoRA.git</a></p></li>
<li><p><a class="reference external" href="https://github.com/huggingface/peft/blob/main/src/peft/tuners/lora.py">https://github.com/huggingface/peft/blob/main/src/peft/tuners/lora.py</a></p></li>
</ol>
<dl class="function">
<dt id="espnet2.layers.create_adapter.create_adapter">
<code class="sig-prename descclassname">espnet2.layers.create_adapter.</code><code class="sig-name descname">create_adapter</code><span class="sig-paren">(</span><em class="sig-param">model: torch.nn.modules.module.Module</em>, <em class="sig-param">adapter: str</em>, <em class="sig-param">adapter_conf: dict</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/create_adapter.html#create_adapter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.create_adapter.create_adapter" title="Permalink to this definition">¶</a></dt>
<dd><p>Create adapter for the base model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>torch.nn.Module</em>) – Base model to be adapted.</p></li>
<li><p><strong>adapter_type</strong> (<em>str</em>) – Name of adapter</p></li>
<li><p><strong>adapter_conf</strong> (<em>dict</em>) – Configuration for the adapter
e.g.  {“rank”: 8, “alpha”: 8, …} for lora</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="espnet2-layers-create-adapter-fn-1">
<span id="espnet2-layers-create-adapter-fn"></span><h2>espnet2.layers.create_adapter_fn<a class="headerlink" href="#espnet2-layers-create-adapter-fn-1" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-espnet2.layers.create_adapter_fn"></span><dl class="function">
<dt id="espnet2.layers.create_adapter_fn.create_houlsby_adapter">
<code class="sig-prename descclassname">espnet2.layers.create_adapter_fn.</code><code class="sig-name descname">create_houlsby_adapter</code><span class="sig-paren">(</span><em class="sig-param">model: torch.nn.modules.module.Module</em>, <em class="sig-param">bottleneck: int = 32</em>, <em class="sig-param">target_layers: List[int] = []</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/create_adapter_fn.html#create_houlsby_adapter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.create_adapter_fn.create_houlsby_adapter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="espnet2.layers.create_adapter_fn.create_lora_adapter">
<code class="sig-prename descclassname">espnet2.layers.create_adapter_fn.</code><code class="sig-name descname">create_lora_adapter</code><span class="sig-paren">(</span><em class="sig-param">model: torch.nn.modules.module.Module, rank: int = 8, alpha: int = 8, dropout_rate: float = 0.0, target_modules: List[str] = ['query'], bias_type: str = 'none'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/create_adapter_fn.html#create_lora_adapter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.create_adapter_fn.create_lora_adapter" title="Permalink to this definition">¶</a></dt>
<dd><p>Create LoRA adapter for the base model.</p>
<p>See: <a class="reference external" href="https://arxiv.org/pdf/2106.09685.pdf">https://arxiv.org/pdf/2106.09685.pdf</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>model</strong> (<em>torch.nn.Module</em>) – Base model to be adapted.</p></li>
<li><p><strong>rank</strong> (<em>int</em>) – Rank of LoRA matrices. Defaults to 8.</p></li>
<li><p><strong>alpha</strong> (<em>int</em>) – Constant number for LoRA scaling. Defaults to 8.</p></li>
<li><p><strong>dropout_rate</strong> (<em>float</em>) – Dropout probability for LoRA layers. Defaults to 0.0.</p></li>
<li><p><strong>target_modules</strong> (<em>List</em><em>[</em><em>str</em><em>]</em>) – List of module(s) to apply LoRA adaptation.
e.g. [“query”, “key”, “value”] for all layers,
while [“encoder.encoders.blocks.0.attn.key”] for a specific layer.</p></li>
<li><p><strong>bias_type</strong> (<em>str</em>) – Bias training type for LoRA adaptaion, can be
one of [“none”, “all”, “lora_only”].
“none” means not training any bias vectors;
“all” means training all bias vectors, include LayerNorm biases;
“lora_only” means only training bias vectors in LoRA adapted modules.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="espnet2.layers.create_adapter_fn.create_new_houlsby_module">
<code class="sig-prename descclassname">espnet2.layers.create_adapter_fn.</code><code class="sig-name descname">create_new_houlsby_module</code><span class="sig-paren">(</span><em class="sig-param">target_module: torch.nn.modules.module.Module</em>, <em class="sig-param">bottleneck: int</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/create_adapter_fn.html#create_new_houlsby_module"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.create_adapter_fn.create_new_houlsby_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new houlsby adapter module for the given target module
.</p>
<blockquote>
<div><p>Currently, only support:
Wav2Vec2EncoderLayerStableLayerNorm &amp;
TransformerSentenceEncoderLayer</p>
</div></blockquote>
</dd></dl>

<dl class="function">
<dt id="espnet2.layers.create_adapter_fn.create_new_lora_module">
<code class="sig-prename descclassname">espnet2.layers.create_adapter_fn.</code><code class="sig-name descname">create_new_lora_module</code><span class="sig-paren">(</span><em class="sig-param">target_module: torch.nn.modules.module.Module</em>, <em class="sig-param">rank: int</em>, <em class="sig-param">alpha: int</em>, <em class="sig-param">dropout_rate: float</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/create_adapter_fn.html#create_new_lora_module"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.create_adapter_fn.create_new_lora_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new lora module for the given target module.</p>
</dd></dl>

</section>
<section id="espnet2-layers-init-1">
<span id="espnet2-layers-init"></span><h2>espnet2.layers.__init__<a class="headerlink" href="#espnet2-layers-init-1" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-espnet2.layers.__init__"></span></section>
<section id="espnet2-layers-utterance-mvn-1">
<span id="espnet2-layers-utterance-mvn"></span><h2>espnet2.layers.utterance_mvn<a class="headerlink" href="#espnet2-layers-utterance-mvn-1" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-espnet2.layers.utterance_mvn"></span><dl class="class">
<dt id="espnet2.layers.utterance_mvn.UtteranceMVN">
<em class="property">class </em><code class="sig-prename descclassname">espnet2.layers.utterance_mvn.</code><code class="sig-name descname">UtteranceMVN</code><span class="sig-paren">(</span><em class="sig-param">norm_means: bool = True</em>, <em class="sig-param">norm_vars: bool = False</em>, <em class="sig-param">eps: float = 1e-20</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/utterance_mvn.html#UtteranceMVN"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.utterance_mvn.UtteranceMVN" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#espnet2.layers.abs_normalize.AbsNormalize" title="espnet2.layers.abs_normalize.AbsNormalize"><code class="xref py py-class docutils literal notranslate"><span class="pre">espnet2.layers.abs_normalize.AbsNormalize</span></code></a></p>
<dl class="method">
<dt id="espnet2.layers.utterance_mvn.UtteranceMVN.extra_repr">
<code class="sig-name descname">extra_repr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/utterance_mvn.html#UtteranceMVN.extra_repr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.utterance_mvn.UtteranceMVN.extra_repr" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the extra representation of the module</p>
<p>To print customized extra information, you should re-implement
this method in your own modules. Both single-line and multi-line
strings are acceptable.</p>
</dd></dl>

<dl class="method">
<dt id="espnet2.layers.utterance_mvn.UtteranceMVN.forward">
<code class="sig-name descname">forward</code><span class="sig-paren">(</span><em class="sig-param">x: torch.Tensor</em>, <em class="sig-param">ilens: torch.Tensor = None</em><span class="sig-paren">)</span> &#x2192; Tuple[torch.Tensor, torch.Tensor]<a class="reference internal" href="../_modules/espnet2/layers/utterance_mvn.html#UtteranceMVN.forward"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.utterance_mvn.UtteranceMVN.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Forward function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – (B, L, …)</p></li>
<li><p><strong>ilens</strong> – (B,)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="espnet2.layers.utterance_mvn.utterance_mvn">
<code class="sig-prename descclassname">espnet2.layers.utterance_mvn.</code><code class="sig-name descname">utterance_mvn</code><span class="sig-paren">(</span><em class="sig-param">x: torch.Tensor</em>, <em class="sig-param">ilens: torch.Tensor = None</em>, <em class="sig-param">norm_means: bool = True</em>, <em class="sig-param">norm_vars: bool = False</em>, <em class="sig-param">eps: float = 1e-20</em><span class="sig-paren">)</span> &#x2192; Tuple[torch.Tensor, torch.Tensor]<a class="reference internal" href="../_modules/espnet2/layers/utterance_mvn.html#utterance_mvn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.utterance_mvn.utterance_mvn" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply utterance mean and variance normalization</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – (B, T, D), assumed zero padded</p></li>
<li><p><strong>ilens</strong> – (B,)</p></li>
<li><p><strong>norm_means</strong> – </p></li>
<li><p><strong>norm_vars</strong> – </p></li>
<li><p><strong>eps</strong> – </p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="espnet2-layers-log-mel-1">
<span id="espnet2-layers-log-mel"></span><h2>espnet2.layers.log_mel<a class="headerlink" href="#espnet2-layers-log-mel-1" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-espnet2.layers.log_mel"></span><dl class="class">
<dt id="espnet2.layers.log_mel.LogMel">
<em class="property">class </em><code class="sig-prename descclassname">espnet2.layers.log_mel.</code><code class="sig-name descname">LogMel</code><span class="sig-paren">(</span><em class="sig-param">fs: int = 16000</em>, <em class="sig-param">n_fft: int = 512</em>, <em class="sig-param">n_mels: int = 80</em>, <em class="sig-param">fmin: float = None</em>, <em class="sig-param">fmax: float = None</em>, <em class="sig-param">htk: bool = False</em>, <em class="sig-param">log_base: float = None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/log_mel.html#LogMel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.log_mel.LogMel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">torch.nn.modules.module.Module</span></code></p>
<p>Convert STFT to fbank feats</p>
<p>The arguments is same as librosa.filters.mel</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fs</strong> – number &gt; 0 [scalar] sampling rate of the incoming signal</p></li>
<li><p><strong>n_fft</strong> – int &gt; 0 [scalar] number of FFT components</p></li>
<li><p><strong>n_mels</strong> – int &gt; 0 [scalar] number of Mel bands to generate</p></li>
<li><p><strong>fmin</strong> – float &gt;= 0 [scalar] lowest frequency (in Hz)</p></li>
<li><p><strong>fmax</strong> – float &gt;= 0 [scalar] highest frequency (in Hz).
If <cite>None</cite>, use <cite>fmax = fs / 2.0</cite></p></li>
<li><p><strong>htk</strong> – use HTK formula instead of Slaney</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="espnet2.layers.log_mel.LogMel.extra_repr">
<code class="sig-name descname">extra_repr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/log_mel.html#LogMel.extra_repr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.log_mel.LogMel.extra_repr" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the extra representation of the module</p>
<p>To print customized extra information, you should re-implement
this method in your own modules. Both single-line and multi-line
strings are acceptable.</p>
</dd></dl>

<dl class="method">
<dt id="espnet2.layers.log_mel.LogMel.forward">
<code class="sig-name descname">forward</code><span class="sig-paren">(</span><em class="sig-param">feat: torch.Tensor</em>, <em class="sig-param">ilens: torch.Tensor = None</em><span class="sig-paren">)</span> &#x2192; Tuple[torch.Tensor, torch.Tensor]<a class="reference internal" href="../_modules/espnet2/layers/log_mel.html#LogMel.forward"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.log_mel.LogMel.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the computation performed at every call.</p>
<p>Should be overridden by all subclasses.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Although the recipe for forward pass needs to be defined within
this function, one should call the <code class="xref py py-class docutils literal notranslate"><span class="pre">Module</span></code> instance afterwards
instead of this since the former takes care of running the
registered hooks while the latter silently ignores them.</p>
</aside>
</dd></dl>

</dd></dl>

</section>
<section id="espnet2-layers-sinc-conv-1">
<span id="espnet2-layers-sinc-conv"></span><h2>espnet2.layers.sinc_conv<a class="headerlink" href="#espnet2-layers-sinc-conv-1" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-espnet2.layers.sinc_conv"></span><p>Sinc convolutions.</p>
<dl class="class">
<dt id="espnet2.layers.sinc_conv.BarkScale">
<em class="property">class </em><code class="sig-prename descclassname">espnet2.layers.sinc_conv.</code><code class="sig-name descname">BarkScale</code><a class="reference internal" href="../_modules/espnet2/layers/sinc_conv.html#BarkScale"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.sinc_conv.BarkScale" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Bark frequency scale.</p>
<p>Has wider bandwidths at lower frequencies, see:
Critical bandwidth: BARK
Zwicker and Terhardt, 1980</p>
<dl class="method">
<dt id="espnet2.layers.sinc_conv.BarkScale.bank">
<em class="property">classmethod </em><code class="sig-name descname">bank</code><span class="sig-paren">(</span><em class="sig-param">channels: int</em>, <em class="sig-param">fs: float</em><span class="sig-paren">)</span> &#x2192; torch.Tensor<a class="reference internal" href="../_modules/espnet2/layers/sinc_conv.html#BarkScale.bank"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.sinc_conv.BarkScale.bank" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain initialization values for the Bark scale.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>channels</strong> – Number of channels.</p></li>
<li><p><strong>fs</strong> – Sample rate.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Filter start frequencíes.
torch.Tensor: Filter stop frequencíes.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>torch.Tensor</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="espnet2.layers.sinc_conv.BarkScale.convert">
<em class="property">static </em><code class="sig-name descname">convert</code><span class="sig-paren">(</span><em class="sig-param">f</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/sinc_conv.html#BarkScale.convert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.sinc_conv.BarkScale.convert" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert Hz to Bark.</p>
</dd></dl>

<dl class="method">
<dt id="espnet2.layers.sinc_conv.BarkScale.invert">
<em class="property">static </em><code class="sig-name descname">invert</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/sinc_conv.html#BarkScale.invert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.sinc_conv.BarkScale.invert" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert Bark to Hz.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="espnet2.layers.sinc_conv.LogCompression">
<em class="property">class </em><code class="sig-prename descclassname">espnet2.layers.sinc_conv.</code><code class="sig-name descname">LogCompression</code><a class="reference internal" href="../_modules/espnet2/layers/sinc_conv.html#LogCompression"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.sinc_conv.LogCompression" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">torch.nn.modules.module.Module</span></code></p>
<p>Log Compression Activation.</p>
<p>Activation function <cite>log(abs(x) + 1)</cite>.</p>
<p>Initialize.</p>
<dl class="method">
<dt id="espnet2.layers.sinc_conv.LogCompression.forward">
<code class="sig-name descname">forward</code><span class="sig-paren">(</span><em class="sig-param">x: torch.Tensor</em><span class="sig-paren">)</span> &#x2192; torch.Tensor<a class="reference internal" href="../_modules/espnet2/layers/sinc_conv.html#LogCompression.forward"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.sinc_conv.LogCompression.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Forward.</p>
<p>Applies the Log Compression function elementwise on tensor x.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="espnet2.layers.sinc_conv.MelScale">
<em class="property">class </em><code class="sig-prename descclassname">espnet2.layers.sinc_conv.</code><code class="sig-name descname">MelScale</code><a class="reference internal" href="../_modules/espnet2/layers/sinc_conv.html#MelScale"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.sinc_conv.MelScale" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Mel frequency scale.</p>
<dl class="method">
<dt id="espnet2.layers.sinc_conv.MelScale.bank">
<em class="property">classmethod </em><code class="sig-name descname">bank</code><span class="sig-paren">(</span><em class="sig-param">channels: int</em>, <em class="sig-param">fs: float</em><span class="sig-paren">)</span> &#x2192; torch.Tensor<a class="reference internal" href="../_modules/espnet2/layers/sinc_conv.html#MelScale.bank"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.sinc_conv.MelScale.bank" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain initialization values for the mel scale.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>channels</strong> – Number of channels.</p></li>
<li><p><strong>fs</strong> – Sample rate.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Filter start frequencíes.
torch.Tensor: Filter stop frequencies.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>torch.Tensor</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="espnet2.layers.sinc_conv.MelScale.convert">
<em class="property">static </em><code class="sig-name descname">convert</code><span class="sig-paren">(</span><em class="sig-param">f</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/sinc_conv.html#MelScale.convert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.sinc_conv.MelScale.convert" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert Hz to mel.</p>
</dd></dl>

<dl class="method">
<dt id="espnet2.layers.sinc_conv.MelScale.invert">
<em class="property">static </em><code class="sig-name descname">invert</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/sinc_conv.html#MelScale.invert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.sinc_conv.MelScale.invert" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert mel to Hz.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="espnet2.layers.sinc_conv.SincConv">
<em class="property">class </em><code class="sig-prename descclassname">espnet2.layers.sinc_conv.</code><code class="sig-name descname">SincConv</code><span class="sig-paren">(</span><em class="sig-param">in_channels: int</em>, <em class="sig-param">out_channels: int</em>, <em class="sig-param">kernel_size: int</em>, <em class="sig-param">stride: int = 1</em>, <em class="sig-param">padding: int = 0</em>, <em class="sig-param">dilation: int = 1</em>, <em class="sig-param">window_func: str = 'hamming'</em>, <em class="sig-param">scale_type: str = 'mel'</em>, <em class="sig-param">fs: Union[int</em>, <em class="sig-param">float] = 16000</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/sinc_conv.html#SincConv"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.sinc_conv.SincConv" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">torch.nn.modules.module.Module</span></code></p>
<p>Sinc Convolution.</p>
<p>This module performs a convolution using Sinc filters in time domain as kernel.
Sinc filters function as band passes in spectral domain.
The filtering is done as a convolution in time domain, and no transformation
to spectral domain is necessary.</p>
<p>This implementation of the Sinc convolution is heavily inspired
by Ravanelli et al. <a class="reference external" href="https://github.com/mravanelli/SincNet">https://github.com/mravanelli/SincNet</a>,
and adapted for the ESpnet toolkit.
Combine Sinc convolutions with a log compression activation function, as in:
<a class="reference external" href="https://arxiv.org/abs/2010.07597">https://arxiv.org/abs/2010.07597</a></p>
<p>Notes:
Currently, the same filters are applied to all input channels.
The windowing function is applied on the kernel to obtained a smoother filter,
and not on the input values, which is different to traditional ASR.</p>
<p>Initialize Sinc convolutions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>in_channels</strong> – Number of input channels.</p></li>
<li><p><strong>out_channels</strong> – Number of output channels.</p></li>
<li><p><strong>kernel_size</strong> – Sinc filter kernel size (needs to be an odd number).</p></li>
<li><p><strong>stride</strong> – See torch.nn.functional.conv1d.</p></li>
<li><p><strong>padding</strong> – See torch.nn.functional.conv1d.</p></li>
<li><p><strong>dilation</strong> – See torch.nn.functional.conv1d.</p></li>
<li><p><strong>window_func</strong> – Window function on the filter, one of [“hamming”, “none”].</p></li>
<li><p><strong>fs</strong> (<em>str</em><em>, </em><em>int</em><em>, </em><em>float</em>) – Sample rate of the input data</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="espnet2.layers.sinc_conv.SincConv.forward">
<code class="sig-name descname">forward</code><span class="sig-paren">(</span><em class="sig-param">xs: torch.Tensor</em><span class="sig-paren">)</span> &#x2192; torch.Tensor<a class="reference internal" href="../_modules/espnet2/layers/sinc_conv.html#SincConv.forward"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.sinc_conv.SincConv.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Sinc convolution forward function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>xs</strong> – Batch in form of torch.Tensor (B, C_in, D_in).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Batch in form of torch.Tensor (B, C_out, D_out).</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>xs</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="espnet2.layers.sinc_conv.SincConv.get_odim">
<code class="sig-name descname">get_odim</code><span class="sig-paren">(</span><em class="sig-param">idim: int</em><span class="sig-paren">)</span> &#x2192; int<a class="reference internal" href="../_modules/espnet2/layers/sinc_conv.html#SincConv.get_odim"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.sinc_conv.SincConv.get_odim" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain the output dimension of the filter.</p>
</dd></dl>

<dl class="method">
<dt id="espnet2.layers.sinc_conv.SincConv.hamming_window">
<em class="property">static </em><code class="sig-name descname">hamming_window</code><span class="sig-paren">(</span><em class="sig-param">x: torch.Tensor</em><span class="sig-paren">)</span> &#x2192; torch.Tensor<a class="reference internal" href="../_modules/espnet2/layers/sinc_conv.html#SincConv.hamming_window"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.sinc_conv.SincConv.hamming_window" title="Permalink to this definition">¶</a></dt>
<dd><p>Hamming Windowing function.</p>
</dd></dl>

<dl class="method">
<dt id="espnet2.layers.sinc_conv.SincConv.init_filters">
<code class="sig-name descname">init_filters</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/sinc_conv.html#SincConv.init_filters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.sinc_conv.SincConv.init_filters" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize filters with filterbank values.</p>
</dd></dl>

<dl class="method">
<dt id="espnet2.layers.sinc_conv.SincConv.none_window">
<em class="property">static </em><code class="sig-name descname">none_window</code><span class="sig-paren">(</span><em class="sig-param">x: torch.Tensor</em><span class="sig-paren">)</span> &#x2192; torch.Tensor<a class="reference internal" href="../_modules/espnet2/layers/sinc_conv.html#SincConv.none_window"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.sinc_conv.SincConv.none_window" title="Permalink to this definition">¶</a></dt>
<dd><p>Identity-like windowing function.</p>
</dd></dl>

<dl class="method">
<dt id="espnet2.layers.sinc_conv.SincConv.sinc">
<em class="property">static </em><code class="sig-name descname">sinc</code><span class="sig-paren">(</span><em class="sig-param">x: torch.Tensor</em><span class="sig-paren">)</span> &#x2192; torch.Tensor<a class="reference internal" href="../_modules/espnet2/layers/sinc_conv.html#SincConv.sinc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.sinc_conv.SincConv.sinc" title="Permalink to this definition">¶</a></dt>
<dd><p>Sinc function.</p>
</dd></dl>

</dd></dl>

</section>
<section id="espnet2-layers-mask-along-axis-1">
<span id="espnet2-layers-mask-along-axis"></span><h2>espnet2.layers.mask_along_axis<a class="headerlink" href="#espnet2-layers-mask-along-axis-1" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-espnet2.layers.mask_along_axis"></span><dl class="class">
<dt id="espnet2.layers.mask_along_axis.MaskAlongAxis">
<em class="property">class </em><code class="sig-prename descclassname">espnet2.layers.mask_along_axis.</code><code class="sig-name descname">MaskAlongAxis</code><span class="sig-paren">(</span><em class="sig-param">mask_width_range: Union[int</em>, <em class="sig-param">Sequence[int]] = (0</em>, <em class="sig-param">30)</em>, <em class="sig-param">num_mask: int = 2</em>, <em class="sig-param">dim: Union[int</em>, <em class="sig-param">str] = 'time'</em>, <em class="sig-param">replace_with_zero: bool = True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/mask_along_axis.html#MaskAlongAxis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.mask_along_axis.MaskAlongAxis" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">torch.nn.modules.module.Module</span></code></p>
<dl class="method">
<dt id="espnet2.layers.mask_along_axis.MaskAlongAxis.extra_repr">
<code class="sig-name descname">extra_repr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/mask_along_axis.html#MaskAlongAxis.extra_repr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.mask_along_axis.MaskAlongAxis.extra_repr" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the extra representation of the module</p>
<p>To print customized extra information, you should re-implement
this method in your own modules. Both single-line and multi-line
strings are acceptable.</p>
</dd></dl>

<dl class="method">
<dt id="espnet2.layers.mask_along_axis.MaskAlongAxis.forward">
<code class="sig-name descname">forward</code><span class="sig-paren">(</span><em class="sig-param">spec: torch.Tensor</em>, <em class="sig-param">spec_lengths: torch.Tensor = None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/mask_along_axis.html#MaskAlongAxis.forward"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.mask_along_axis.MaskAlongAxis.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Forward function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>spec</strong> – (Batch, Length, Freq)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="espnet2.layers.mask_along_axis.MaskAlongAxisVariableMaxWidth">
<em class="property">class </em><code class="sig-prename descclassname">espnet2.layers.mask_along_axis.</code><code class="sig-name descname">MaskAlongAxisVariableMaxWidth</code><span class="sig-paren">(</span><em class="sig-param">mask_width_ratio_range: Union[float</em>, <em class="sig-param">Sequence[float]] = (0.0</em>, <em class="sig-param">0.05)</em>, <em class="sig-param">num_mask: int = 2</em>, <em class="sig-param">dim: Union[int</em>, <em class="sig-param">str] = 'time'</em>, <em class="sig-param">replace_with_zero: bool = True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/mask_along_axis.html#MaskAlongAxisVariableMaxWidth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.mask_along_axis.MaskAlongAxisVariableMaxWidth" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">torch.nn.modules.module.Module</span></code></p>
<p>Mask input spec along a specified axis with variable maximum width.</p>
<dl class="simple">
<dt>Formula:</dt><dd><p>max_width = max_width_ratio * seq_len</p>
</dd>
</dl>
<dl class="method">
<dt id="espnet2.layers.mask_along_axis.MaskAlongAxisVariableMaxWidth.extra_repr">
<code class="sig-name descname">extra_repr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/mask_along_axis.html#MaskAlongAxisVariableMaxWidth.extra_repr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.mask_along_axis.MaskAlongAxisVariableMaxWidth.extra_repr" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the extra representation of the module</p>
<p>To print customized extra information, you should re-implement
this method in your own modules. Both single-line and multi-line
strings are acceptable.</p>
</dd></dl>

<dl class="method">
<dt id="espnet2.layers.mask_along_axis.MaskAlongAxisVariableMaxWidth.forward">
<code class="sig-name descname">forward</code><span class="sig-paren">(</span><em class="sig-param">spec: torch.Tensor</em>, <em class="sig-param">spec_lengths: torch.Tensor = None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/mask_along_axis.html#MaskAlongAxisVariableMaxWidth.forward"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.mask_along_axis.MaskAlongAxisVariableMaxWidth.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Forward function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>spec</strong> – (Batch, Length, Freq)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="espnet2.layers.mask_along_axis.mask_along_axis">
<code class="sig-prename descclassname">espnet2.layers.mask_along_axis.</code><code class="sig-name descname">mask_along_axis</code><span class="sig-paren">(</span><em class="sig-param">spec: torch.Tensor</em>, <em class="sig-param">spec_lengths: torch.Tensor</em>, <em class="sig-param">mask_width_range: Sequence[int] = (0</em>, <em class="sig-param">30)</em>, <em class="sig-param">dim: int = 1</em>, <em class="sig-param">num_mask: int = 2</em>, <em class="sig-param">replace_with_zero: bool = True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/mask_along_axis.html#mask_along_axis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.mask_along_axis.mask_along_axis" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply mask along the specified direction.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spec</strong> – (Batch, Length, Freq)</p></li>
<li><p><strong>spec_lengths</strong> – (Length): Not using lengths in this implementation</p></li>
<li><p><strong>mask_width_range</strong> – Select the width randomly between this range</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="espnet2-layers-create-adapter-utils-1">
<span id="espnet2-layers-create-adapter-utils"></span><h2>espnet2.layers.create_adapter_utils<a class="headerlink" href="#espnet2-layers-create-adapter-utils-1" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-espnet2.layers.create_adapter_utils"></span><dl class="function">
<dt id="espnet2.layers.create_adapter_utils.check_target_module_exists">
<code class="sig-prename descclassname">espnet2.layers.create_adapter_utils.</code><code class="sig-name descname">check_target_module_exists</code><span class="sig-paren">(</span><em class="sig-param">key: str, target_modules: List[str]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/create_adapter_utils.html#check_target_module_exists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.create_adapter_utils.check_target_module_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>Check if the target_modules matchs the given key.</p>
</dd></dl>

<dl class="function">
<dt id="espnet2.layers.create_adapter_utils.get_submodules">
<code class="sig-prename descclassname">espnet2.layers.create_adapter_utils.</code><code class="sig-name descname">get_submodules</code><span class="sig-paren">(</span><em class="sig-param">model: torch.nn.modules.module.Module</em>, <em class="sig-param">key: str</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/create_adapter_utils.html#get_submodules"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.create_adapter_utils.get_submodules" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the submodules of the given key.</p>
</dd></dl>

<dl class="function">
<dt id="espnet2.layers.create_adapter_utils.replace_module">
<code class="sig-prename descclassname">espnet2.layers.create_adapter_utils.</code><code class="sig-name descname">replace_module</code><span class="sig-paren">(</span><em class="sig-param">parent_module: torch.nn.modules.module.Module</em>, <em class="sig-param">child_name: str</em>, <em class="sig-param">old_module: torch.nn.modules.module.Module</em>, <em class="sig-param">new_module: torch.nn.modules.module.Module</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/create_adapter_utils.html#replace_module"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.create_adapter_utils.replace_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace the target module with the new module.</p>
</dd></dl>

</section>
<section id="espnet2-layers-label-aggregation-1">
<span id="espnet2-layers-label-aggregation"></span><h2>espnet2.layers.label_aggregation<a class="headerlink" href="#espnet2-layers-label-aggregation-1" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-espnet2.layers.label_aggregation"></span><dl class="class">
<dt id="espnet2.layers.label_aggregation.LabelAggregate">
<em class="property">class </em><code class="sig-prename descclassname">espnet2.layers.label_aggregation.</code><code class="sig-name descname">LabelAggregate</code><span class="sig-paren">(</span><em class="sig-param">win_length: int = 512</em>, <em class="sig-param">hop_length: int = 128</em>, <em class="sig-param">center: bool = True</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/label_aggregation.html#LabelAggregate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.label_aggregation.LabelAggregate" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">torch.nn.modules.module.Module</span></code></p>
<dl class="method">
<dt id="espnet2.layers.label_aggregation.LabelAggregate.extra_repr">
<code class="sig-name descname">extra_repr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/label_aggregation.html#LabelAggregate.extra_repr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.label_aggregation.LabelAggregate.extra_repr" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the extra representation of the module</p>
<p>To print customized extra information, you should re-implement
this method in your own modules. Both single-line and multi-line
strings are acceptable.</p>
</dd></dl>

<dl class="method">
<dt id="espnet2.layers.label_aggregation.LabelAggregate.forward">
<code class="sig-name descname">forward</code><span class="sig-paren">(</span><em class="sig-param">input: torch.Tensor</em>, <em class="sig-param">ilens: torch.Tensor = None</em><span class="sig-paren">)</span> &#x2192; Tuple[torch.Tensor, Optional[torch.Tensor]]<a class="reference internal" href="../_modules/espnet2/layers/label_aggregation.html#LabelAggregate.forward"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.label_aggregation.LabelAggregate.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>LabelAggregate forward function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input</strong> – (Batch, Nsamples, Label_dim)</p></li>
<li><p><strong>ilens</strong> – (Batch)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>(Batch, Frames, Label_dim)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>output</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="espnet2-layers-time-warp-1">
<span id="espnet2-layers-time-warp"></span><h2>espnet2.layers.time_warp<a class="headerlink" href="#espnet2-layers-time-warp-1" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-espnet2.layers.time_warp"></span><p>Time warp module.</p>
<dl class="class">
<dt id="espnet2.layers.time_warp.TimeWarp">
<em class="property">class </em><code class="sig-prename descclassname">espnet2.layers.time_warp.</code><code class="sig-name descname">TimeWarp</code><span class="sig-paren">(</span><em class="sig-param">window: int = 80</em>, <em class="sig-param">mode: str = 'bicubic'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/time_warp.html#TimeWarp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.time_warp.TimeWarp" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">torch.nn.modules.module.Module</span></code></p>
<p>Time warping using torch.interpolate.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>window</strong> – time warp parameter</p></li>
<li><p><strong>mode</strong> – Interpolate mode</p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="espnet2.layers.time_warp.TimeWarp.extra_repr">
<code class="sig-name descname">extra_repr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/time_warp.html#TimeWarp.extra_repr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.time_warp.TimeWarp.extra_repr" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the extra representation of the module</p>
<p>To print customized extra information, you should re-implement
this method in your own modules. Both single-line and multi-line
strings are acceptable.</p>
</dd></dl>

<dl class="method">
<dt id="espnet2.layers.time_warp.TimeWarp.forward">
<code class="sig-name descname">forward</code><span class="sig-paren">(</span><em class="sig-param">x: torch.Tensor</em>, <em class="sig-param">x_lengths: torch.Tensor = None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/time_warp.html#TimeWarp.forward"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.time_warp.TimeWarp.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Forward function.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – (Batch, Time, Freq)</p></li>
<li><p><strong>x_lengths</strong> – (Batch,)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="espnet2.layers.time_warp.time_warp">
<code class="sig-prename descclassname">espnet2.layers.time_warp.</code><code class="sig-name descname">time_warp</code><span class="sig-paren">(</span><em class="sig-param">x: torch.Tensor</em>, <em class="sig-param">window: int = 80</em>, <em class="sig-param">mode: str = 'bicubic'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/time_warp.html#time_warp"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.time_warp.time_warp" title="Permalink to this definition">¶</a></dt>
<dd><p>Time warping using torch.interpolate.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – (Batch, Time, Freq)</p></li>
<li><p><strong>window</strong> – time warp parameter</p></li>
<li><p><strong>mode</strong> – Interpolate mode</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="espnet2-layers-global-mvn-1">
<span id="espnet2-layers-global-mvn"></span><h2>espnet2.layers.global_mvn<a class="headerlink" href="#espnet2-layers-global-mvn-1" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-espnet2.layers.global_mvn"></span><dl class="class">
<dt id="espnet2.layers.global_mvn.GlobalMVN">
<em class="property">class </em><code class="sig-prename descclassname">espnet2.layers.global_mvn.</code><code class="sig-name descname">GlobalMVN</code><span class="sig-paren">(</span><em class="sig-param">stats_file: Union[pathlib.Path, str], norm_means: bool = True, norm_vars: bool = True, eps: float = 1e-20</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/global_mvn.html#GlobalMVN"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.global_mvn.GlobalMVN" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#espnet2.layers.abs_normalize.AbsNormalize" title="espnet2.layers.abs_normalize.AbsNormalize"><code class="xref py py-class docutils literal notranslate"><span class="pre">espnet2.layers.abs_normalize.AbsNormalize</span></code></a>, <a class="reference internal" href="#espnet2.layers.inversible_interface.InversibleInterface" title="espnet2.layers.inversible_interface.InversibleInterface"><code class="xref py py-class docutils literal notranslate"><span class="pre">espnet2.layers.inversible_interface.InversibleInterface</span></code></a></p>
<p>Apply global mean and variance normalization</p>
<p>TODO(kamo): Make this class portable somehow</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stats_file</strong> – npy file</p></li>
<li><p><strong>norm_means</strong> – Apply mean normalization</p></li>
<li><p><strong>norm_vars</strong> – Apply var normalization</p></li>
<li><p><strong>eps</strong> – </p></li>
</ul>
</dd>
</dl>
<dl class="method">
<dt id="espnet2.layers.global_mvn.GlobalMVN.extra_repr">
<code class="sig-name descname">extra_repr</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/global_mvn.html#GlobalMVN.extra_repr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.global_mvn.GlobalMVN.extra_repr" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the extra representation of the module</p>
<p>To print customized extra information, you should re-implement
this method in your own modules. Both single-line and multi-line
strings are acceptable.</p>
</dd></dl>

<dl class="method">
<dt id="espnet2.layers.global_mvn.GlobalMVN.forward">
<code class="sig-name descname">forward</code><span class="sig-paren">(</span><em class="sig-param">x: torch.Tensor</em>, <em class="sig-param">ilens: torch.Tensor = None</em><span class="sig-paren">)</span> &#x2192; Tuple[torch.Tensor, torch.Tensor]<a class="reference internal" href="../_modules/espnet2/layers/global_mvn.html#GlobalMVN.forward"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.global_mvn.GlobalMVN.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Forward function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>x</strong> – (B, L, …)</p></li>
<li><p><strong>ilens</strong> – (B,)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="espnet2.layers.global_mvn.GlobalMVN.inverse">
<code class="sig-name descname">inverse</code><span class="sig-paren">(</span><em class="sig-param">x: torch.Tensor</em>, <em class="sig-param">ilens: torch.Tensor = None</em><span class="sig-paren">)</span> &#x2192; Tuple[torch.Tensor, torch.Tensor]<a class="reference internal" href="../_modules/espnet2/layers/global_mvn.html#GlobalMVN.inverse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.global_mvn.GlobalMVN.inverse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="espnet2-layers-inversible-interface-1">
<span id="espnet2-layers-inversible-interface"></span><h2>espnet2.layers.inversible_interface<a class="headerlink" href="#espnet2-layers-inversible-interface-1" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-espnet2.layers.inversible_interface"></span><dl class="class">
<dt id="espnet2.layers.inversible_interface.InversibleInterface">
<em class="property">class </em><code class="sig-prename descclassname">espnet2.layers.inversible_interface.</code><code class="sig-name descname">InversibleInterface</code><a class="reference internal" href="../_modules/espnet2/layers/inversible_interface.html#InversibleInterface"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.inversible_interface.InversibleInterface" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">abc.ABC</span></code></p>
<dl class="method">
<dt id="espnet2.layers.inversible_interface.InversibleInterface.inverse">
<em class="property">abstract </em><code class="sig-name descname">inverse</code><span class="sig-paren">(</span><em class="sig-param">input: torch.Tensor</em>, <em class="sig-param">input_lengths: torch.Tensor = None</em><span class="sig-paren">)</span> &#x2192; Tuple[torch.Tensor, torch.Tensor]<a class="reference internal" href="../_modules/espnet2/layers/inversible_interface.html#InversibleInterface.inverse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.inversible_interface.InversibleInterface.inverse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="espnet2-layers-augmentation-1">
<span id="espnet2-layers-augmentation"></span><h2>espnet2.layers.augmentation<a class="headerlink" href="#espnet2-layers-augmentation-1" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-espnet2.layers.augmentation"></span><dl class="class">
<dt id="espnet2.layers.augmentation.DataAugmentation">
<em class="property">class </em><code class="sig-prename descclassname">espnet2.layers.augmentation.</code><code class="sig-name descname">DataAugmentation</code><span class="sig-paren">(</span><em class="sig-param">effects: List[Union[Tuple[float, List[Tuple[float, str, Dict]]], Tuple[float, str, Dict]]], apply_n: Tuple[int, int] = [1, 1]</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/augmentation.html#DataAugmentation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.augmentation.DataAugmentation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A series of data augmentation effects that can be applied to a given waveform.</p>
<p>Note: Currently we only support single-channel waveforms.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>effects</strong> (<em>list</em>) – <p>a list of effects to be applied to the waveform.
.. rubric:: Example</p>
<dl>
<dt>[</dt><dd><p>[0.1, “lowpass”, {“cutoff_freq”: 1000, “Q”: 0.707}],
[0.1, “highpass”, {“cutoff_freq”: 3000, “Q”: 0.707}],
[0.1, “equalization”, {“center_freq”: 1000, “gain”: 0, “Q”: 0.707}],
[</p>
<blockquote>
<div><p>0.1,
[</p>
<blockquote>
<div><p>[0.3, “speed_perturb”, {“factor”: 0.9}],
[0.3, “speed_perturb”, {“factor”: 1.1}],</p>
</div></blockquote>
<p>]</p>
</div></blockquote>
<p>],</p>
</dd>
</dl>
<p>]</p>
<dl class="simple">
<dt>Description:</dt><dd><ul>
<li><p>The above list defines a series of data augmentation effects that will
be randomly sampled to apply to a given waveform.</p></li>
<li><p>The data structure of each element can be either
type1=Tuple[float, str, Dict] or type2=Tuple[float, type1].</p></li>
<li><p>In type1, the three values are the weight of sampling this effect, the
name (key) of the effect, and the keyword arguments for the effect.</p></li>
<li><p>In type2, the first value is the weight of sampling this effect.
The second value is a list of type1 elements which are similarly
defined as above.</p></li>
<li><p>Note that he effects defined in each type2 data are mutually exclusive
(i.e., only one of them can be applied each time).
This can be useful when you want to avoid applying some specific
effects at the same time.</p></li>
</ul>
</dd>
</dl>
</p></li>
<li><p><strong>apply_n</strong> (<em>list</em>) – range of the number of effects to be applied to the waveform.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="espnet2.layers.augmentation.bandpass_filtering">
<code class="sig-prename descclassname">espnet2.layers.augmentation.</code><code class="sig-name descname">bandpass_filtering</code><span class="sig-paren">(</span><em class="sig-param">waveform</em>, <em class="sig-param">sample_rate: int</em>, <em class="sig-param">center_freq: int = 3000</em>, <em class="sig-param">Q: float = 0.707</em>, <em class="sig-param">const_skirt_gain: bool = False</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/augmentation.html#bandpass_filtering"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.augmentation.bandpass_filtering" title="Permalink to this definition">¶</a></dt>
<dd><p>Bandpass filter the input signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>waveform</strong> (<em>torch.Tensor</em>) – audio signal (…, time)</p></li>
<li><p><strong>sample_rate</strong> (<em>int</em>) – sampling rate in Hz</p></li>
<li><p><strong>center_freq_freq</strong> (<em>int</em>) – filter’s center_freq frequency</p></li>
<li><p><strong>Q</strong> (<em>float</em><em> or </em><em>torch.Tensor</em>) – <a class="reference external" href="https://en.wikipedia.org/wiki/Q_factor">https://en.wikipedia.org/wiki/Q_factor</a></p></li>
<li><p><strong>const_skirt_gain</strong> (<em>bool</em>) – If True, uses a constant skirt gain (peak gain = Q).
If False, uses a constant 0dB peak gain.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>filtered signal (…, time)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ret (torch.Tensor)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="espnet2.layers.augmentation.bandreject_filtering">
<code class="sig-prename descclassname">espnet2.layers.augmentation.</code><code class="sig-name descname">bandreject_filtering</code><span class="sig-paren">(</span><em class="sig-param">waveform</em>, <em class="sig-param">sample_rate: int</em>, <em class="sig-param">center_freq: int = 3000</em>, <em class="sig-param">Q: float = 0.707</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/augmentation.html#bandreject_filtering"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.augmentation.bandreject_filtering" title="Permalink to this definition">¶</a></dt>
<dd><p>Two-pole band-reject filter the input signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>waveform</strong> (<em>torch.Tensor</em>) – audio signal (…, time)</p></li>
<li><p><strong>sample_rate</strong> (<em>int</em>) – sampling rate in Hz</p></li>
<li><p><strong>center_freq_freq</strong> (<em>int</em>) – filter’s center_freq frequency</p></li>
<li><p><strong>Q</strong> (<em>float</em><em> or </em><em>torch.Tensor</em>) – <a class="reference external" href="https://en.wikipedia.org/wiki/Q_factor">https://en.wikipedia.org/wiki/Q_factor</a></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>filtered signal (…, time)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ret (torch.Tensor)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="espnet2.layers.augmentation.clipping">
<code class="sig-prename descclassname">espnet2.layers.augmentation.</code><code class="sig-name descname">clipping</code><span class="sig-paren">(</span><em class="sig-param">waveform</em>, <em class="sig-param">sample_rate: int</em>, <em class="sig-param">min_quantile: float = 0.0</em>, <em class="sig-param">max_quantile: float = 0.9</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/augmentation.html#clipping"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.augmentation.clipping" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply the clipping distortion to the input signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>waveform</strong> (<em>torch.Tensor</em>) – audio signal (…, time)</p></li>
<li><p><strong>sample_rate</strong> (<em>int</em>) – sampling rate in Hz (not used)</p></li>
<li><p><strong>min_quantile</strong> (<em>float</em>) – lower bound on the total percent of samples to be clipped</p></li>
<li><p><strong>max_quantile</strong> (<em>float</em>) – upper bound on the total percent of samples to be clipped</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>clipped signal (…, time)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ret (torch.Tensor)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="espnet2.layers.augmentation.codecs">
<code class="sig-prename descclassname">espnet2.layers.augmentation.</code><code class="sig-name descname">codecs</code><span class="sig-paren">(</span><em class="sig-param">waveform</em>, <em class="sig-param">sample_rate: int</em>, <em class="sig-param">format: str</em>, <em class="sig-param">compression: Optional[float] = None</em>, <em class="sig-param">encoding: Optional[str] = None</em>, <em class="sig-param">bits_per_sample: Optional[int] = None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/augmentation.html#codecs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.augmentation.codecs" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply the specified codecs to the input signal.</p>
<p>Warning: Wait until torchaudio 2.1 for this function to work.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ol class="arabic simple">
<li><p>This function only supports CPU backend.</p></li>
<li><p>The GSM codec can be used to emulate phone line channel effects.</p></li>
</ol>
</aside>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>waveform</strong> (<em>torch.Tensor</em>) – audio signal (…, time)</p></li>
<li><p><strong>sample_rate</strong> (<em>int</em>) – sampling rate in Hz</p></li>
<li><p><strong>format</strong> (<em>str</em>) – file format.
Valid values are “wav”, “mp3”, “ogg”, “vorbis”, “amr-nb”, “amb”,
“flac”, “sph”, “gsm”, and “htk”.</p></li>
<li><p><strong>compression</strong> (<em>float</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – <p>used for formats other than WAV</p>
<p>For more details see torchaudio.backend.sox_io_backend.save().</p>
</p></li>
<li><p><strong>encoding</strong> (<em>str</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – change the encoding for the supported formats
Valid values are “PCM_S” (signed integer Linear PCM),
“PCM_U” (unsigned integer Linear PCM), “PCM_F” (floating point PCM),
“ULAW” (mu-law), and “ALAW” (a-law).
For more details see torchaudio.backend.sox_io_backend.save().</p></li>
<li><p><strong>bits_per_sample</strong> (<em>int</em><em> or </em><em>None</em><em>, </em><em>optional</em>) – change the bit depth
for the supported formats
For more details see torchaudio.backend.sox_io_backend.save().</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>compressed signal (…, time)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ret (torch.Tensor)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="espnet2.layers.augmentation.contrast">
<code class="sig-prename descclassname">espnet2.layers.augmentation.</code><code class="sig-name descname">contrast</code><span class="sig-paren">(</span><em class="sig-param">waveform</em>, <em class="sig-param">sample_rate: int = 16000</em>, <em class="sig-param">enhancement_amount: float = 75.0</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/augmentation.html#contrast"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.augmentation.contrast" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply contrast effect to the input signal to make it sound louder.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>waveform</strong> (<em>torch.Tensor</em>) – audio signal (…, time)</p></li>
<li><p><strong>sample_rate</strong> (<em>int</em>) – sampling rate in Hz (not used)</p></li>
<li><p><strong>enhancement_amount</strong> (<em>float</em>) – controls the amount of the enhancement
Allowed range of values for enhancement_amount : 0-100
Note that enhancement_amount = 0 still gives a significant
contrast enhancement.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>filtered signal (…, time)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ret (torch.Tensor)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="espnet2.layers.augmentation.corrupt_phase">
<code class="sig-prename descclassname">espnet2.layers.augmentation.</code><code class="sig-name descname">corrupt_phase</code><span class="sig-paren">(</span><em class="sig-param">waveform</em>, <em class="sig-param">sample_rate</em>, <em class="sig-param">scale: float = 0.5</em>, <em class="sig-param">n_fft: float = 0.032</em>, <em class="sig-param">win_length: Optional[float] = None</em>, <em class="sig-param">hop_length: float = 0.008</em>, <em class="sig-param">window: Optional[str] = 'hann'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/augmentation.html#corrupt_phase"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.augmentation.corrupt_phase" title="Permalink to this definition">¶</a></dt>
<dd><p>Adding random noise to the phase of input waveform.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>waveform</strong> (<em>torch.Tensor</em>) – audio signal (…, time)</p></li>
<li><p><strong>sample_rate</strong> (<em>int</em>) – sampling rate in Hz</p></li>
<li><p><strong>scale</strong> (<em>float</em>) – scale factor for the phase noise</p></li>
<li><p><strong>n_fft</strong> (<em>float</em>) – length of FFT (in second)</p></li>
<li><p><strong>win_length</strong> (<em>float</em><em> or </em><em>None</em>) – The window length (in second) used for STFT
If None, it is treated as equal to n_fft</p></li>
<li><p><strong>hop_length</strong> (<em>float</em>) – The hop size (in second) used for STFT</p></li>
<li><p><strong>window</strong> (<em>str</em><em> or </em><em>None</em>) – The windowing function applied to the signal after
padding with zeros</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>phase-corrupted signal (…, time)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ret (torch.Tensor)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="espnet2.layers.augmentation.deemphasis">
<code class="sig-prename descclassname">espnet2.layers.augmentation.</code><code class="sig-name descname">deemphasis</code><span class="sig-paren">(</span><em class="sig-param">waveform</em>, <em class="sig-param">sample_rate: int</em>, <em class="sig-param">coeff: float = 0.97</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/augmentation.html#deemphasis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.augmentation.deemphasis" title="Permalink to this definition">¶</a></dt>
<dd><p>De-emphasize a waveform along the time dimension.</p>
<p>y[i] = x[i] + coeff * y[i - 1]</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>waveform</strong> (<em>torch.Tensor</em>) – audio signal (…, time)</p></li>
<li><p><strong>sample_rate</strong> (<em>int</em>) – sampling rate in Hz (not used)</p></li>
<li><p><strong>coeff</strong> (<em>float</em>) – de-emphasis coefficient. Typically between 0.0 and 1.0.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>de-emphasized signal (…, time)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ret (torch.Tensor)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="espnet2.layers.augmentation.equalization_filtering">
<code class="sig-prename descclassname">espnet2.layers.augmentation.</code><code class="sig-name descname">equalization_filtering</code><span class="sig-paren">(</span><em class="sig-param">waveform</em>, <em class="sig-param">sample_rate: int</em>, <em class="sig-param">center_freq: int = 1000</em>, <em class="sig-param">gain: float = 0.0</em>, <em class="sig-param">Q: float = 0.707</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/augmentation.html#equalization_filtering"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.augmentation.equalization_filtering" title="Permalink to this definition">¶</a></dt>
<dd><p>Equalization filter the input signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>waveform</strong> (<em>torch.Tensor</em>) – audio signal (…, time)</p></li>
<li><p><strong>sample_rate</strong> (<em>int</em>) – sampling rate in Hz</p></li>
<li><p><strong>center_freq</strong> (<em>int</em>) – filter’s center frequency</p></li>
<li><p><strong>gain</strong> (<em>float</em><em> or </em><em>torch.Tensor</em>) – desired gain at the boost (or attenuation) in dB</p></li>
<li><p><strong>Q</strong> (<em>float</em><em> or </em><em>torch.Tensor</em>) – <a class="reference external" href="https://en.wikipedia.org/wiki/Q_factor">https://en.wikipedia.org/wiki/Q_factor</a></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>filtered signal (…, time)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ret (torch.Tensor)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="espnet2.layers.augmentation.highpass_filtering">
<code class="sig-prename descclassname">espnet2.layers.augmentation.</code><code class="sig-name descname">highpass_filtering</code><span class="sig-paren">(</span><em class="sig-param">waveform</em>, <em class="sig-param">sample_rate: int</em>, <em class="sig-param">cutoff_freq: int = 3000</em>, <em class="sig-param">Q: float = 0.707</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/augmentation.html#highpass_filtering"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.augmentation.highpass_filtering" title="Permalink to this definition">¶</a></dt>
<dd><p>Highpass filter the input signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>waveform</strong> (<em>torch.Tensor</em>) – audio signal (…, time)</p></li>
<li><p><strong>sample_rate</strong> (<em>int</em>) – sampling rate in Hz</p></li>
<li><p><strong>cutoff_freq</strong> (<em>int</em>) – filter cutoff frequency</p></li>
<li><p><strong>Q</strong> (<em>float</em><em> or </em><em>torch.Tensor</em>) – <a class="reference external" href="https://en.wikipedia.org/wiki/Q_factor">https://en.wikipedia.org/wiki/Q_factor</a></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>filtered signal (…, time)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ret (torch.Tensor)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="espnet2.layers.augmentation.lowpass_filtering">
<code class="sig-prename descclassname">espnet2.layers.augmentation.</code><code class="sig-name descname">lowpass_filtering</code><span class="sig-paren">(</span><em class="sig-param">waveform</em>, <em class="sig-param">sample_rate: int</em>, <em class="sig-param">cutoff_freq: int = 1000</em>, <em class="sig-param">Q: float = 0.707</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/augmentation.html#lowpass_filtering"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.augmentation.lowpass_filtering" title="Permalink to this definition">¶</a></dt>
<dd><p>Lowpass filter the input signal.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>waveform</strong> (<em>torch.Tensor</em>) – audio signal (…, time)</p></li>
<li><p><strong>sample_rate</strong> (<em>int</em>) – sampling rate in Hz</p></li>
<li><p><strong>cutoff_freq</strong> (<em>int</em>) – filter cutoff frequency</p></li>
<li><p><strong>Q</strong> (<em>float</em><em> or </em><em>torch.Tensor</em>) – <a class="reference external" href="https://en.wikipedia.org/wiki/Q_factor">https://en.wikipedia.org/wiki/Q_factor</a></p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>filtered signal (…, time)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ret (torch.Tensor)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="espnet2.layers.augmentation.pitch_shift">
<code class="sig-prename descclassname">espnet2.layers.augmentation.</code><code class="sig-name descname">pitch_shift</code><span class="sig-paren">(</span><em class="sig-param">waveform</em>, <em class="sig-param">sample_rate: int</em>, <em class="sig-param">n_steps: int</em>, <em class="sig-param">bins_per_octave: int = 12</em>, <em class="sig-param">n_fft: float = 0.032</em>, <em class="sig-param">win_length: Optional[float] = None</em>, <em class="sig-param">hop_length: float = 0.008</em>, <em class="sig-param">window: Optional[str] = 'hann'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/augmentation.html#pitch_shift"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.augmentation.pitch_shift" title="Permalink to this definition">¶</a></dt>
<dd><p>Shift the pitch of a waveform by <cite>n_steps</cite> steps.</p>
<p>Note: this function is slow.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>waveform</strong> (<em>torch.Tensor</em>) – audio signal (…, time)</p></li>
<li><p><strong>sample_rate</strong> (<em>int</em>) – sampling rate in Hz</p></li>
<li><p><strong>n_steps</strong> (<em>int</em>) – the (fractional) steps to shift the pitch
-4 for shifting pitch down by 4/<cite>bins_per_octave</cite> octaves
4 for shifting pitch up by 4/<cite>bins_per_octave</cite> octaves</p></li>
<li><p><strong>bins_per_octave</strong> (<em>int</em>) – number of steps per octave</p></li>
<li><p><strong>n_fft</strong> (<em>float</em>) – length of FFT (in second)</p></li>
<li><p><strong>win_length</strong> (<em>float</em><em> or </em><em>None</em>) – The window length (in second) used for STFT
If None, it is treated as equal to n_fft</p></li>
<li><p><strong>hop_length</strong> (<em>float</em>) – The hop size (in second) used for STFT</p></li>
<li><p><strong>window</strong> (<em>str</em><em> or </em><em>None</em>) – The windowing function applied to the signal after
padding with zeros</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>filtered signal (…, time)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ret (torch.Tensor)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="espnet2.layers.augmentation.polarity_inverse">
<code class="sig-prename descclassname">espnet2.layers.augmentation.</code><code class="sig-name descname">polarity_inverse</code><span class="sig-paren">(</span><em class="sig-param">waveform</em>, <em class="sig-param">sample_rate</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/augmentation.html#polarity_inverse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.augmentation.polarity_inverse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="espnet2.layers.augmentation.preemphasis">
<code class="sig-prename descclassname">espnet2.layers.augmentation.</code><code class="sig-name descname">preemphasis</code><span class="sig-paren">(</span><em class="sig-param">waveform</em>, <em class="sig-param">sample_rate: int</em>, <em class="sig-param">coeff: float = 0.97</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/augmentation.html#preemphasis"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.augmentation.preemphasis" title="Permalink to this definition">¶</a></dt>
<dd><p>Pre-emphasize a waveform along the time dimension.</p>
<p>y[i] = x[i] - coeff * x[i - 1]</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>waveform</strong> (<em>torch.Tensor</em>) – audio signal (…, time)</p></li>
<li><p><strong>sample_rate</strong> (<em>int</em>) – sampling rate in Hz (not used)</p></li>
<li><p><strong>coeff</strong> (<em>float</em>) – pre-emphasis coefficient. Typically between 0.0 and 1.0.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>pre-emphasized signal (…, time)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ret (torch.Tensor)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="espnet2.layers.augmentation.reverse">
<code class="sig-prename descclassname">espnet2.layers.augmentation.</code><code class="sig-name descname">reverse</code><span class="sig-paren">(</span><em class="sig-param">waveform</em>, <em class="sig-param">sample_rate</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/augmentation.html#reverse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.augmentation.reverse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="espnet2.layers.augmentation.speed_perturb">
<code class="sig-prename descclassname">espnet2.layers.augmentation.</code><code class="sig-name descname">speed_perturb</code><span class="sig-paren">(</span><em class="sig-param">waveform</em>, <em class="sig-param">sample_rate: int</em>, <em class="sig-param">factor: float</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/augmentation.html#speed_perturb"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.augmentation.speed_perturb" title="Permalink to this definition">¶</a></dt>
<dd><p>Speed perturbation which also changes the pitch.</p>
<p>Note: This function should be used with caution as it changes the signal duration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>waveform</strong> (<em>torch.Tensor</em>) – audio signal (…, time)</p></li>
<li><p><strong>sample_rate</strong> (<em>int</em>) – sampling rate in Hz</p></li>
<li><p><strong>factor</strong> (<em>float</em>) – speed factor (e.g., 0.9 for 90% speed)</p></li>
<li><p><strong>lengths</strong> (<em>torch.Tensor</em>) – lengths of the input signals</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>perturbed signal (…, time)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ret (torch.Tensor)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="espnet2.layers.augmentation.time_stretch">
<code class="sig-prename descclassname">espnet2.layers.augmentation.</code><code class="sig-name descname">time_stretch</code><span class="sig-paren">(</span><em class="sig-param">waveform</em>, <em class="sig-param">sample_rate: int</em>, <em class="sig-param">factor: float</em>, <em class="sig-param">n_fft: float = 0.032</em>, <em class="sig-param">win_length: Optional[float] = None</em>, <em class="sig-param">hop_length: float = 0.008</em>, <em class="sig-param">window: Optional[str] = 'hann'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/augmentation.html#time_stretch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.augmentation.time_stretch" title="Permalink to this definition">¶</a></dt>
<dd><p>Time scaling (speed up in time without modifying pitch) via phase vocoder.</p>
<p>Note: This function should be used with caution as it changes the signal duration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>waveform</strong> (<em>torch.Tensor</em>) – audio signal (…, time)</p></li>
<li><p><strong>sample_rate</strong> (<em>int</em>) – sampling rate in Hz</p></li>
<li><p><strong>factor</strong> (<em>float</em>) – speed-up factor (e.g., 0.9 for 90% speed and 1.3 for 130% speed)</p></li>
<li><p><strong>n_fft</strong> (<em>float</em>) – length of FFT (in second)</p></li>
<li><p><strong>win_length</strong> (<em>float</em><em> or </em><em>None</em>) – The window length (in second) used for STFT
If None, it is treated as equal to n_fft</p></li>
<li><p><strong>hop_length</strong> (<em>float</em>) – The hop size (in second) used for STFT</p></li>
<li><p><strong>window</strong> (<em>str</em><em> or </em><em>None</em>) – The windowing function applied to the signal after
padding with zeros</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>perturbed signal (…, time)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>ret (torch.Tensor)</p>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="espnet2.layers.augmentation.weighted_sample_without_replacement">
<code class="sig-prename descclassname">espnet2.layers.augmentation.</code><code class="sig-name descname">weighted_sample_without_replacement</code><span class="sig-paren">(</span><em class="sig-param">population</em>, <em class="sig-param">weights</em>, <em class="sig-param">k</em>, <em class="sig-param">rng=&lt;module 'random' from '/opt/hostedtoolcache/Python/3.8.18/x64/lib/python3.8/random.py'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/augmentation.html#weighted_sample_without_replacement"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.augmentation.weighted_sample_without_replacement" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="espnet2-layers-houlsby-adapter-layer-1">
<span id="espnet2-layers-houlsby-adapter-layer"></span><h2>espnet2.layers.houlsby_adapter_layer<a class="headerlink" href="#espnet2-layers-houlsby-adapter-layer-1" title="Permalink to this headline">¶</a></h2>
<span class="target" id="module-espnet2.layers.houlsby_adapter_layer"></span><dl class="class">
<dt id="espnet2.layers.houlsby_adapter_layer.HoulsbyTransformerSentenceEncoderLayer">
<em class="property">class </em><code class="sig-prename descclassname">espnet2.layers.houlsby_adapter_layer.</code><code class="sig-name descname">HoulsbyTransformerSentenceEncoderLayer</code><span class="sig-paren">(</span><em class="sig-param">bottleneck: int = 32</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/houlsby_adapter_layer.html#HoulsbyTransformerSentenceEncoderLayer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.houlsby_adapter_layer.HoulsbyTransformerSentenceEncoderLayer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">s3prl.upstream.wav2vec2.wav2vec2_model.TransformerSentenceEncoderLayer</span></code></p>
<p>Implements a Transformer Encoder Layer used in BERT/XLM style pre-trained
models.</p>
<dl class="method">
<dt id="espnet2.layers.houlsby_adapter_layer.HoulsbyTransformerSentenceEncoderLayer.forward">
<code class="sig-name descname">forward</code><span class="sig-paren">(</span><em class="sig-param">x: torch.Tensor</em>, <em class="sig-param">self_attn_mask: torch.Tensor = None</em>, <em class="sig-param">self_attn_padding_mask: torch.Tensor = None</em>, <em class="sig-param">need_weights: bool = False</em>, <em class="sig-param">att_args=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/houlsby_adapter_layer.html#HoulsbyTransformerSentenceEncoderLayer.forward"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.houlsby_adapter_layer.HoulsbyTransformerSentenceEncoderLayer.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>LayerNorm is applied either before or after the self-attention/ffn
modules similar to the original Transformer imlementation.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="espnet2.layers.houlsby_adapter_layer.Houlsby_Adapter">
<em class="property">class </em><code class="sig-prename descclassname">espnet2.layers.houlsby_adapter_layer.</code><code class="sig-name descname">Houlsby_Adapter</code><span class="sig-paren">(</span><em class="sig-param">input_size: int</em>, <em class="sig-param">bottleneck: int</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/houlsby_adapter_layer.html#Houlsby_Adapter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.houlsby_adapter_layer.Houlsby_Adapter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">torch.nn.modules.module.Module</span></code></p>
<dl class="method">
<dt id="espnet2.layers.houlsby_adapter_layer.Houlsby_Adapter.forward">
<code class="sig-name descname">forward</code><span class="sig-paren">(</span><em class="sig-param">x</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/espnet2/layers/houlsby_adapter_layer.html#Houlsby_Adapter.forward"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#espnet2.layers.houlsby_adapter_layer.Houlsby_Adapter.forward" title="Permalink to this definition">¶</a></dt>
<dd><p>Defines the computation performed at every call.</p>
<p>Should be overridden by all subclasses.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Although the recipe for forward pass needs to be defined within
this function, one should call the <code class="xref py py-class docutils literal notranslate"><span class="pre">Module</span></code> instance afterwards
instead of this since the former takes care of running the
registered hooks while the latter silently ignores them.</p>
</aside>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="espnet2.schedulers.html" class="btn btn-neutral float-left" title="espnet2.schedulers package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="espnet2.hubert.html" class="btn btn-neutral float-right" title="espnet2.hubert package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2017, Shinji Watanabe.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>